{####################################### BASIC HTML ELEMENTS #######################################}

{% macro label(text) -%}
  <label {% for k in varargs -%} {{ k }} {% endfor -%}
  {% for k in kwargs.keys() %} {{ k }}="{{ kwargs[k] }}" {%- endfor %}>
    {{- text -}}
  </label>
{%- endmacro %}

{% macro input() -%}
  <input {% for k in varargs -%} {{ k }} {%- endfor -%}
  {% for k in kwargs.keys() %} {{ k }}="{{ kwargs[k] }}" {%- endfor %}>
{%- endmacro %}

{% macro button(text) -%}
  <button {% for k in varargs -%} {{ k }} {%- endfor -%}
  {% for k in kwargs.keys() %} {{ k }}="{{ kwargs[k] }}" {%- endfor -%}>
    {{- text -}}
  </button>
{%- endmacro %}

{% macro img(url_img) -%}
  <img src="{{ url_img }}" {% for k in varargs -%} {{ k }} {%- endfor -%}
  {% for k in kwargs.keys() -%} {{ k }}="{{ kwargs[k] }}" {%- endfor %}>
{%- endmacro %}

{% macro link(name, href) -%}
  <a href="{{ href }}" {% for k in varargs -%} {{ k }} {%- endfor -%}
  {% for k in kwargs.keys() -%} {{ k }}="{{ kwargs[k] }}" {%- endfor %}>
    {{- name -}}
  </a>
{%- endmacro %}


{####################################### MACROS FUNCIONALES #######################################}

{% macro img_link(url_link, url_img) -%}
  <div class="img-link">
    <a href="{{ url_link }}">
      {{ img(url_img) }}
    </a>
  </div>
{%- endmacro %}


{% macro correo() -%}
  {{ label("Correo electrónico", for="correo") }} 
  {{ input(type="email", id="correo", name="correo", placeholder="usuario@correo.com", required="true") }}
{%- endmacro %}

{% macro contraseña() -%}
  {{ label("Contraseña", for="contraseña") }}
  {{ input(type="password", id="contraseña", name="contraseña", placeholder="patito001", required="true") }}
{%- endmacro %}

{% macro label_input(id, value, type="text") -%}
  {{ label(value, for=id) }}
  {{ input(type=type, id=id, name=id, required="true", autocomplete="off", *args, **kwargs)}}
{%- endmacro %}

{% macro label_select(id, value, options=[], selected=None) -%}
  {{ label(value, for=id)}}
  <select id="{{ id }}" name="{{ id }}" autocomplete="off">
    {%- for option in options +%}
    <option value="{{ option.id }}"{% if selected == option.id %} selected {% endif -%}>
      {{- option -}}
    </option>
    {%- endfor %}
  </select>
{%- endmacro %}


{% macro table(columns=[], data=[]) -%}
<table>
  <tr>
    {% for column in columns -%}
    <th> {{ column }}</th>
    {%- endfor %}
  </tr>
  {% for count, row in enumerate(data) %}
  <tr>
    <td>{{ row[count] }}</td>
  </tr>
  {% endfor %}
</table>
{%- endmacro %}


{####################################### MACROS AUXILIARES #######################################}
{% macro as_id(text) %}
  {{- text.strip().lower().replace(' ', '_') -}}
{% endmacro %}

{% macro disabled(condition) %}
  {%- if condition %}disabled
  {%- endif -%}
{%- endmacro %}

{% macro checked(condition) %}
  {%- if condition %}checked
  {%- endif -%}
{%- endmacro %}

{% macro format_number(number) %}
  {%- if not number -%}No
  {%- elif number % 1 == 0 -%}
  {{- "{0:g}".format(number) -}} {% else %}
  {{- "{:.3f}".format(number) -}}
  {%- endif -%}
{% endmacro %}


